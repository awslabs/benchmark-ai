#!/bin/bash

#Configuration
export ENVIRONMENT=${ENVIRONMENT:="test"}
export LOGGING_LEVEL=${LOGGING_LEVEL:="info"}

#Endpoints Server
export SVC_PORT=${SVC_PORT:=8080}
export THREAD_POOL_SIZE=${THREAD_POOL_SIZE:=5}
export MAX_QUEUE_SIZE=${MAX_QUEUE_SIZE:=20}


#Kafka
export KAFKA_BOOTSTRAP_SERVERS=${KAFKA_BOOTSTRAP_SERVERS:="local:9092"}

#Kafa Source (consumer/processor..)
export KAFKA_SOURCE_TOPIC=${KAFKA_SOURCE_TOPIC:="test"}
export KAFKA_CONSUMER_GROUP_ID=${KAFKA_CONSUMER_GROUP_ID:="none"}
export KAFKA_POLL_INTERVAL_MS=${KAFKA_POLL_INTERVAL_MS:=500}

#Kafka Sink (producer/sender...)
export KAFKA_SINK_TOPIC=${KAFKA_SINK_TOPIC:="test"}

export JARFILE="target/bai-bff-*-standalone.jar"

echo "ENVIRONMENT = ${ENVIRONMENT}"
echo "LOGGING_LEVEL = ${LOGGING_LEVEL}"
echo "SVC_PORT = ${SVC_PORT}"
echo "THREAD_POOL_SIZE = ${THREAD_POOL_SIZE}"
echo "MAX_QUEUE_SIZE = ${MAX_QUEUE_SIZE}"
echo "KAFKA_BOOTSTRAP_SERVERS = ${KAFKA_BOOTSTRAP_SERVERS}"
echo "KAFKA_SOURCE_TOPIC = ${KAFKA_SOURCE_TOPIC}"
echo "KAFKA_CONSUMER_GROUP_ID = ${KAFKA_CONSUMER_GROUP_ID}"
echo "KAFKA_POLL_INTERVAL_MS = ${KAFKA_POLL_INTERVAL_MS}"
echo "KAFKA_SINK_TOPIC = ${KAFKA_SINK_TOPIC}"

cmd="java -jar ${JARFILE}"
echo ${cmd}
$cmd
